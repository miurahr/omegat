# Utility classes

## Caching 

OmegaT provide caching utility for MT connectors, dictionary drivers and so on.

### How to create cache object


    Map<String, String> cache = SimpleCacheFactory.createCache(16, 500);

A first parameter is initial capacity and second one is maximum size of cache.


Here is complete example how cache is used.


    public class ExmapleConnector {
        private final Map<String, String> cache;

        public ExampleConnector() {
            cache = SimpleCacheFactory.createCache(64, 512);
            CoreEvents.registerProjectChangeListener(eventType -> cache.clear());
        }

        public String translate(String word) {
            String result;
            result = cache.get(word);
            if (result == null) {  // when there is no cache hit.
                result = query(word);
            }
            if (result != null) {
                cache.put(word, result);  // remember for future
            }
        }

        private String query(String word) {
            // actual qeury.
        }
    }

You will want to clear when `project change` event fired. Please refer javadoc for `CacheFactory` utility class.
